---
title: "Financial Portfolio Management"
subtitle: "Virtual class: 2-Hour Module"
author: "J. Christopher Westland"
date: "10-19-2024"
format: pdf
editor: visual
---


### __Simulation software for this class is available by clicking on this link: <https://jcwestland.shinyapps.io/virtual_invest_class/>__




##  Add the following items to the description of the Financial Porfolio Management virtual class

- each period of the workout is 10 minutes long
- at each period is one week and in each period, the student must make a decision of how much of each security to buy or to sell in that period.
- each period's decision will depend on the events that occurred in the prior week.  The output of the prior week will specify up to 5 events that may or may not affect the price of each security.  For example if you have stock in an oil company, then a crisis in oil-producing countries will influence your stock to fall
- this simulation has 100 different types of 'events' that could potentially happen, and the up to 5 events that happen each week are chosen randomly (it may be that some of these 'events' are just 'none' meaning that less than 5 important events happened that week).   Each type of event, if it happens will move the security price up or down a certain percentage in the coming week, and for the 10 weeks after the coming week.
- securities price is also dependent on prior weeks prices of that same security, and, e.g., a rising sequence of weeks of price increases implies that the current week will continue to rise
- there is a large random component to securities prices, so even though prior prices and world events can strongly influence the upcoming price of each security, there impact is not exact and is not 100% predictable.  


### Cumulative Grade:

The cumulativeGrade output displays a letter grade (from F to A) based on the total increase in the portfolio's value. The calculate_grade function assigns the grade as follows:
A: Total increase ≥ 5000
B: Total increase between 2500 and 5000
C: Total increase between 0 and 2500
D: Total increase between -2500 and 0
F: Total increase < -2500

### **Objective**: This session simulates real-world investment decision-making by presenting participants with a series of events that impact their portfolio. Participants will analyze market events, strategize their investments, and reflect on their decisions.

#### **Structure**:

-   **Total Duration**: 2 hours

-   **Challenges**: 6 rounds, including a final reflection and grading

-   **Platform**: Zoom for facilitation and Shiny for client-server software to manage the exercises.

### **Agenda**:

#### 1. **Introduction (10 minutes)**

-   **Overview**: Brief introduction to the virtual workout and objectives.

-   **Explanation**: How the workout will work, including the event-based challenges and portfolio adjustments.

-   **Software Setup**: Ensure all participants have access to the Shiny client interface and that portfolios are initialized.

#### 2. **Challenge Rounds (6 rounds, 15 minutes each)**

Each round involves:

-   **Event Presentation (1 minute)**: A random selection of 5 events is drawn from the 100-event database.

-   **Securities Affected**: Each event impacts a subset of 5 securities in the participant's portfolio.

-   **10-minute Active Play**: Participants use the Shiny interface to adjust their portfolios in response to the events.

-   **5-minute Reflection & Strategy Session**:

    -   What was the impact of the events on their securities?

    -   How do they plan to adjust in the next round?

    -   What worked, what didn’t?

### **Sample Round Breakdown**:

-   **Round 1 (15 minutes)**:

    -   **Event 1**: Market crash in technology sector.

    -   **Event 2**: Unexpected Federal Reserve interest rate increase.

    -   **Event 3**: Major pharmaceutical breakthrough.

    -   **Event 4**: Oil price surge.

    -   **Event 5**: Retail industry supply chain disruption.

-   **Impact on Securities**:

    -   Technology stocks plunge.

    -   Healthcare stocks rise due to a breakthrough.

    -   Oil and gas stocks spike, etc.

-   **Participant Actions**:

    -   Adjust portfolio in response.

    -   After 10 minutes, they reflect on their decisions.

### **Final 15 Minutes: Reflection, Evaluation & Grading**

-   **Collective Reflection**:

    -   Discussion on strategies used across the rounds.

    -   What trends and patterns were observed in decision-making?

-   **Automatic Grading (Shiny App)**:

    -   Performance based on portfolio growth, risk management, and diversification during the session.

    -   The Shiny app generates an automatic grade based on pre-defined metrics such as:

        -   Total portfolio value change.

        -   Response time and adjustment frequency.

        -   Consistency in outperforming a baseline portfolio (market index).

### **Key Features in Shiny**:

-   **Random Event Generation**: Each challenge dynamically draws 5 events from the 100 available.

-   **Portfolio Impact Calculator**: Based on events, the system models real-time price changes to securities.

-   **Reflection Dashboard**: Participants can view historical data of their decisions and reflect on their performance after each round.

-   **Grading**: Automatically calculated based on portfolio value changes, strategy diversity, and reaction speed.

### **Conclusion**:

This structure allows for a dynamic, interactive learning experience that combines real-world scenarios with reflective exercises, preparing participants to handle market volatility in a controlled, engaging environment.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

### Updated Virtual Investment Workout Plan (2-Hour Module)

**Objective**: This module provides participants with a simulation-based investment experience. Each participant manages a portfolio of 5 securities over a simulated year, with price movements influenced by real-world-like events. The goal is to progressively build portfolio value through strategic investment over several weeks (represented in the workout).

#### **Structure**:

-   **Total Duration**: 2 hours

-   **Challenges**: 6 rounds, each representing one week of a one-year simulated timeline.

-   **Platform**: Zoom for facilitation, Shiny for the client-server interface that handles the portfolio, events, and real-time pricing.

### **Agenda**:

#### 1. **Introduction (10 minutes)**

-   **Overview**: Introduction to the virtual workout and its objectives.

-   **Explanation**: Describe how the price history of the 5 securities and events will influence decisions.

-   **Software Setup**: Participants log into the Shiny interface, receive their initial portfolio, and a fixed budget for investment at Period 1.

-   **Portfolio Overview**: Each participant starts with 5 securities, each having a 1-year historical price chart.

### **Challenge Rounds (6 rounds, 15 minutes each)**

Each round represents one week of simulated time. Participants will:

-   **Random Event Presentation (1 minute)**: Each challenge begins with a randomly selected set of 5 events that influence the prices of the securities.

-   **Graph Display**: The Shiny app shows the updated price history of the 5 securities for the past year, including event notations for specific weeks that impacted prices.

-   **10-minute Active Play**:

    -   Participants use sliders to buy or sell shares based on their analysis of price history and expected event impact.

    -   Any profits or losses from their decisions will automatically adjust their available budget.

-   **5-minute Reflection**: Students analyze how the events impacted their decisions, review their portfolio performance, and strategize for the next round.

### **Simulated Price Movements**:

-   **Log-Normal Distribution**: Each of the 5 securities will follow a random price stream based on a log-normal distribution.

-   **Event Influence**: Randomly drawn events (from a pool of 100) affect the securities’ price to varying degrees (e.g., a tech event could sharply impact a tech stock, while financial sector events could have a mild influence).

-   **Historical Data & Event Notation**:

    -   Historical prices for each security are shown with marked events that significantly influenced prices.

    -   During each challenge, new events are displayed and their effects on the securities are visually tracked on the graph.

### **Final 15 Minutes: Reflection, Evaluation, and Grading**

-   **Reflection**: Group discussion on which strategies worked best. How did different events influence portfolio decisions and outcomes?

-   **Grading System** (Automated in Shiny):

    -   **Primary Metric**: Total portfolio value at the end of the simulation.

    -   **Secondary Metric**: Extra points for progressively building up the portfolio value, with greater rewards for consistent improvement across the 6 periods.

    -   **Additional Considerations**: The amount of buying/selling activity, risk-taking, and portfolio diversity.

### **Key Features in Shiny**:

-   **Random Event Generator**: Dynamically draws 5 events from the database of 100 for each round.

-   **Price Simulation**: Securities’ prices follow a log-normal distribution with events having randomized impact magnitudes.

-   **Interactive Investment Interface**: Participants use sliders to increase or decrease their investments in each security based on the events.

-   **Graphical Display**: Real-time price streams with event annotations are shown for each security, helping participants track historical and new price changes.

-   **Budget Management**: Participants' budgets automatically update based on profits or losses after each challenge.

### **Conclusion**:

This module combines a realistic financial simulation with interactive decision-making and event-driven challenges. Participants actively engage in managing their portfolios, adjusting investments based on market conditions, with performance evaluated on both financial gains and strategic portfolio growth.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

-   **Renamed Securities**:

    -   **Global Oil**: Petroleum Drilling & Refining

    -   **Tech Giant**: Technology

    -   **Healthcare Innovations**: Pharmaceuticals & Biotech

    -   **Retail Power**: Retail & Consumer Goods

    -   **Green Energy Solutions**: Renewable Energy

-   **Event Influence**: Each security's price is only influenced by events relevant to its business. For example, Global Oil is influenced by events like "Oil Price Surge" and "OPEC Supply Cut," while Tech Giant is affected by events like "Tech Boom" and "Cybersecurity Breach."

-   **Round Progression**: After each investment submission, the app updates the title to show the current round (e.g., Round 1, Round 2, etc.).

<!-- -->

-   **Function Placement**: The `generate_prices` and `generate_event_influences` functions are now defined **before** being called within the `reactiveValues` initialization to ensure they are found when the app is run.

-   **Matrix Indexing**: The `weeks` for plotting and the price matrix are updated to align properly after each round to prevent any out-of-bounds errors. The indexing of the price matrix (`portfolio$prices`) has been corrected to ensure new weeks are appended without subscript errors.

-   **Portfolio Calculations**: The portfolio value and change calculations are performed using the current prices and slider values, and the results are correctly displayed after each round.

<!-- -->

-   The first round starts with zero holdings of securities.

-   The Portfolio Summary section includes "Net Portfolio Value," "Cash Available," and "Borrowed Cash (at 10% annual interest)."

-   Students can purchase shares up to the amount of cash they have available, and after that, they need to borrow cash at a 10% annual interest rate (with a week’s worth of interest charged each round).

<!-- -->

-   **Zero Holdings at the Start**:

    -   The securities start with zero holdings (as set in the slider initial values).

-   **Portfolio Summary**:

    -   "Net Portfolio Value" reflects the total value of the portfolio (securities + cash available - borrowed cash).

    -   "Cash Available" shows how much cash the user has left after investments.

    -   "Borrowed Cash" shows how much cash has been borrowed, with a 10% annual interest rate applied weekly.

-   **Borrowing Cash**:

    -   If the user’s total investment exceeds the available cash, they automatically borrow the difference, which adds to their borrowed cash, and they pay interest each round.

-   **Weekly Interest on Borrowed Cash**:

    -   Borrowed cash accumulates interest at a rate of 10% annually, applied on a weekly basis.

<!-- -->

-   **"Portfolio Management Class"**.

-   **Cash Never Negative**: The cash available cannot go below zero, even after paying interest.

-   **Updated Portfolio Summary**: The three values in the Portfolio Summary ("Net Portfolio Value," "Cash Available," and "Borrowed Cash") correctly reflect the initial amount of \$10,000, the current week's value of securities, and the borrowed cash with interest deducted.


Initial Cash: The initial cash available has been increased to $100,000.

